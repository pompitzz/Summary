# Chapter 3. 역할, 책임, 협력

## 협력
- 애플리케이션의 기능을 구현하기 위해 객체들간에 메시지 전송을 통해 수행되는 상호작용
- 객체가 존재하기 이전에 협력이 존재하여야 한다. 협력은 객체가 필요한 이유와 객체가 수행해야 하는 행동의 동기를 제공해준다.
- 협력을 통해 객체들의 상태와 행동이 정해지기 때문에 협력을 객체를 설계하는데 필요한 일종의 Context를 제공한다.

## 책임
- 객체가 협력에 참여하기 위해 수행하는 행동
    - 간단히, 외부로 공개되는 퍼블릭 메서드라고 생각하면 될거 같다.
- 협력을 위해 존재하는 각 객체들간에 알맞는 책임을 할당하여 협력이 이루어진다.
- **객체지향 설계에서 사장 중요한 것은 책임**으로 협력이 필요한 이유도, 객체들간에 할당할 책임을 결정할 수 있는 Context를 제공해주기 때문이다.

#### 1) 책임 할당
- 책임을 수행/하는데 필요한 정보를 가장 잘 알고있는 대상에게 책임을 할당한다.(**정보전문가 패턴**)

#### 2) 메시지가 객체를 결정
- 협력을 이루기 위해 필요한 메시지를 통해 필요한 객체들을 결정한다.
- 협력을 이루기 위한 메시지를 통해 객체들을 결정하기 때문에 **객체는 협력을 위해 필요한 만큼의 최소한의 인터페이스를 가질 수 있다.**

#### 3) 행동이 상태를 결정
- 협력을 이루기 위한 메시지로 객체들이 결정되면 결정된 객체들은 협력을 위한 행동을 제공해야 한다.
- 객체들은 오직 행동을 통해 협력에 참여할 수 있고, 객체들의 상태는 오직 이 행동들을 수행하기 위한 재료일 뿐이다.

> 개별 객체들의 상태와 행동이 아닌 시스템의 기능을 구현하기 위한 협력에 초점을 맞춰야만 응집도가 높고, 결합도가 낮은 객체들을 창조할 수 있다.

## 역할
- 객체가 어떤 특정한 협력안에서 수행하는 책임의 집합

### 역할이 왜 필요할까?
#### 1) 인터페이스와 추상 클래스를 통한 유연하고 재사용 가능한 협력
- 인터페이스는 어떠한 구현도하지 않고 책임의 정의만 해놓은 것이며, 추상 클래스는 책임의 일부를 구현해놓을 것이라고 볼 수 있다.
- 이 둘의 구현체들은 정의만 해놓은 책임들을 실제로 구현하게 될것이다. 각 구현체들은 동일한 책임을 구현했기 때문에 어떤 구현체든지 협력에 참여할 수 있을것이다.
- 그러므로 이러한 책임을 모아 하나의 하나의 역할로 만든다. 

<br>

- 인터페이스나, 추상 클래스가 존재한다면 보통 역할을 이들을 가르키게 될 것이다. 하지만 하나의 객체만이 책임을 수행한다면 그 객체가 역할이 될 수 있다.

#### 2) 역할은 협력안에서만 일시적으로 존재한다.
- 역할은 협력이라는 Context가 존재하여야 정의될 수 있다.
- 그러므로 협력에 따라 하나의 객체는 여러가지 역할을 가질 수 있다. **하지만 하나의 협력안에서는 오직 하나의 역할만 맡을 수 있다.**

> 역할은 객체의 페르소나이다.  



  
