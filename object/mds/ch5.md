# Chapter 5. 책임 할당하기
- 동일한 문제를 해결할 수 있는 다양한 책임 할당 방법이 존재하며, 상황에 따라 적절한 방법을 사용하자.

### 책임 중심 설계의 기본 원칙
#### 1) 데이터 보다 행동을 먼저 결정하라.
- 구현의 세부사항이 데이터를 먼저 결정해버리면 객체의 캡슐화가 약해져, 낮은 응집도와 높은 결합도를 가진 객체가되어 변경에 취약해진다.

#### 2) 협력이라는 문맥 안에서 책임을 결정하라.
- 객체에게 할당되는 책임의 품질 현재 협력에 얼마나 적당한지에 따라 결정된다.
- 객체의 입장에서는 책임이 조금 어색해보여도, 협력에 적합하면 그 책임은 좋은 것이다.
- **책임은 객체의 입장이 아닌 객체가 참여하는 협력에 적합해야 한다.**

### 책임 할당 패턴
#### 1) Information Expert 패턴
- 해당 역할을 수행하기에 가장 많은 정보를 알고 있는 객체에게 책임을 할당하자.

#### 2) Low Coupling 패턴
- 책임을 할당할 수 있는 여러 경우의 수가 있을땐 낮은 결합도를 유지할 수 있는 방식을 선택하자.

#### 3) Creator 패턴
- 어떤 객체를 생성하려고 한다면 이미 해당 객체를 알고 있는 객체에서 생성할 책임을 맡게 하자.
- 이미 생성할 객체를 알고 있다면 전체적인 결합도에 영향을 주지 않는다.

#### 4) Polymorphism 패턴
- 객체가 타입으로 변하는 로직이 있다면 조건 논리로 타입에 따른 객체를 결정하는게 아닌 다형성을 활용하라.

#### 5) Protected Variations 패턴
- 설계에서 변하는 것이 무엇인지 고려하고 변하는 개념을 캡슐화하라.
    - 인터페이스로 구체적인 타입을 캡슐화할 수 있다.

### 코드를 변경해야할 징후를 파악할 수 있는 방법
- 설계를 개선하는 작업은 변경의 이유가 하나 이상인 클래스를 찾는거부터 시작하면 좋다.
- 이를 찾기는 쉽지 않지만, 이를 파악할 수 있는 징후들이 존재한다.

#### 1) 인스턴스 변수가 초기화 되는 시점
- 응집도가 높은 클래스라면 인스턴스를 생성할 때 모든 속성을 함께 초기화할 것이다.
- 함께 초기화되는 속성을 기준으로 코드를 분리해보자.

#### 2) 메서드들이 인스턴스 변수를 사용하는 방식을 파악
- 모든 메서드가 객체의 모든 속성을 사용한다면 그 클래스는 응집도가 높다.
