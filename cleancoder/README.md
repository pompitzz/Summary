# 클린 코더
## 프로의 마음가짐
- 프로페셔널리즘은 책임이 전부라 해도 과언이 아니다.

### 책임감 가지기
- 저자는 일정을 맞추기 위해 야간 작업 테스트를 진행하지 않고 선적을 하였다. 그로 인해 회사는 손실을 보았다. 
- 책임감을 가지고 매니저에게 테스트가 끝나지 않아 일정을 맞추지 못할꺼 같다고 했다면 고객의 데이터를 잃지 않고 회사에 피해를 주지도 않았을 것이다.

### 기능에 해를 끼치지 말기
- 프로라면 오류에 책임을 질 수 있어야 한다. 오류가 0이 될 순 없지만 0에 가깝게 만드는 것이 책임이다.
- 확신을 갖지 못하는 코드는 모두 결함있는 코드다.

> 소프트웨어를 변경하는건 위험하다고 생각하지만 정반대다. 소프트웨어가 굳어있다면 정말 변화가 필요할 때, 변경이 어려워질 것이다. 

### 멘토링
- 머릿속에 가장 빠르게 넣는 방법은 자신이 책임지고 담당하는 부분을 다른 사람들과 이야기하는 것이다.
- 가르치고 배울 때 더 큰 이득을 보는쪽은 가르치는 쪽이다.

## 아니라고 말하기
- 프로라면 권위에 맞서 진실을 말해야 한다. 프로는 관리자에게 아니라고 말하는 용기를 가져야 한다.
- 어려운 결정을 내리는 최고의 방법은 대립하는 사람들 사이의 충돌이다.

### 노력해보기
- 노력한다는 약속은 지금까지는 늑장을 부렸으며 힘을 비축했다고 인정하는 셈이다.
- 노력한다는 약속은 추가로 힘을 쏟으면 목표를 달성할 수 있다고 인정할 뿐만아니라, 목표 달성을 위해 온 몸을 바치겠다고 말하는 셈이다.
- 이미 노력 중이라면 뭘 바꿔야 하는가?
    - 이미 충분히 노력중이라 새로운 계획이나 바꿀 수 있는 방법이 없으면서 노력한다는 말은 거짓말이다. 
    
### 존의 일화
- 존은 최초 마감일이 2주라고 했을 때 아니라고 했어야 한다.
- 웹 서비스가 없다는걸 알았을 때 아니라고 했어야 한다.
- 이메일 등록이나 쿠폰 만료 기능도 거부했어야 한다.
- 초과 근무나 희생을 요구하는 모든 일에 아니라고 했어야 한다.
- 무엇보다 **제 시간에 일을 완료하기 위해 코드가 지저분해지는걸 어쩔 수 없다는 결정을 내리지 말아야 한다.**
    - (내 생각) 여기서 의미하는 `코드가 지저분해진다는` 엄청난 설계를 위해 몇일동안 고민하라는 의미가 아니라고 생각한다. 기본적인 단위 테스트와 단순한 리팩터링을 할 시간조차 주지 않는다면 개발 리소스가 부족하다고 어필을 해야하지 않을까? 이 둘은 개발과 분리된게 아니라 개발의 한 과정이기 때문에 당연히 추정치에 고려되어야 할 것이다.   
- 이런 결정에 예라고 말한 것이야 말로 결정적인 실패의 원인이다. 

## 예라고 말하기
- 말을하고 행동으로 옮기지 않는 경우가 대부분이다.
- `살을 좀 뺴야곘는데`라고 말해도, 실천에 옮기지 못하는 거라는 사실을 알지 않나? 이런 일은 항상 일어난다.

### 약속하기
- 자신이 모든 상황을 제어할 수 있을 때만 약속을 해야 한다.
- 작업을 완수하기 위해 의존하고 있는 팀이 있다면 언제까지 작업을 완수할 수 있다고 약속하면 안된다.  
- 하지만 현재 작업의 목표를 달성하기 위한 구체적인 행동을 약속할 순 있다.

### 불가능한 약속대신 행동을 약속하기
- 어떻게 할지 몰라도, 목표를 달성하기 위해 어떤 행동을 하겠다는 약속은 할 수 있다.
- 출시 전 에러를 25개 모두 고치겠다는 불가능한 약속 대신 1) 25개 에러를 모두 조사하고 재현한다. 2) QA와 함께 오류를 재현해본다. 3) 이번 주에는 오류에만 전념한다. 라는 식의 행동에 대한 약속은 할 수 있다. 

### 약속을 지키지 못할 때
- 약속을 지키지 못하곘다면, 당장 약속한 사람들에게 알리자. 그게 가장 중요하다.
- 문제가 될지도 모르는 사실을 즉시 알리지 않으면, 약속을 완수하는데 필요한 도움을 얻을 기회를 스스로 날리게 된다.

### 원칙을 가지고 의사소통 하기
- 피터는 원칙을 깨고 싶다는 유혹을 받는다. 테스트를 작성하지 않으면 빨리 끝날지도 모른다. 리팩터링을 하지 않으면 빨리 끝날지도 모른다. 테스트를 하지 않으면 빨리 끝날지도 모른다.
- 여기가 프로가 선을 그어야 할 자리다. 테스트를 작성하지 않아도, 리팩터링을 하지 안하도, 테스트를 하지 않아도 빨리 끝나진 않는다. 오히려 더 느려진다.
- 테스트 코드는 작성해야 하고, 코드는 깔끔해야 하고, 시스템의 다른 부분을 망가뜨리지 않겠다고 확신하여야 한다.

> 모든 업무 요청에 예라고 대답할 필요가 없다. 하지만 `예`라고 대답할 땐 말에 모호한 부분이 없도록 하자.

## 코딩
- 충분히 강하게 집중하지 못하면 잘못된 코드를 만들게 된다.
- 지치거나 주의력이 흩어졌다면 코드를 만들지 말자. 결국 재작업해야 한다.
- 주의력을 망치는 원인을 없애고 정신을 집중할 방법부터 찾자. 

### 새벽에 짠 코드(집중력이 흩어졌을 때 짠 코드)
- 집중력이 흩어졌을 때 짠 코드는 문제를 일으킬 여지가 많다.
- 만약 그 코드를 중심으로 계속해서 성장된다면 부작용을 일으키는 큰 짐덩이가 될 것이다.
- 프로다운 모습은 무턱대고 많은 일을 하는게 아니라, 원칙을 지키는 모습에서 나온다.

### 근심이 담긴 코드
- 업무 시간에 개인 문제에 시간을 허비하는건 부끄러운 일이다. 업무 시간에 개인 문제에 대한 걱정을 가져오지 않도록 하자.
- 어쩔 수 없이 업무 시간에 개입 문제에 대한 걱정거리가 계속 생각난다면, 한 시간 정도 시간을 내 근심을 멈추도록 하자.
    - 어차피 나중에 버려야 할 코드를 계속 짜는거보다 낫다.
    
### 외부 방해
- 방해가 찾아오면 다음 번에는 자신이 남을 방해할 필요가 있을지 모른다는 사실을 기억하자.
- 외부의 요청은 예의 바르게 기꺼이 도와주도록 하자. 

### 언제 걸어 나가야 할지 알기
- 피곤하면 창의성과 총명함이 사라진다. 이 둘이 사라지고 나면 밤새도록 돌아가지 않는 머리를 두드려봤자 해결법은 나오지 않는다.
- 곤경에 빠졌거나, 피곤할 땐 자리는 떠나 창의적인 잠재의식이 문제를 깨뜨리도록 두어라.

### 질주
- 관리자가 마감일을 지키기 위해 무슨 짓이든 해보라고 한다 하더라도 추정을 고수하라.
- 상사의 강요 떄문에 바꾼 일정은 원래 추정에 비해 정확성이 떨어진다.
- 일정을 개선할 유일한 길은 범위를 줄이는 방법뿐임을 상사에게 말하라.
- 압박에 굴복해 허리띠를 졸라매고 마감일을 지키려 노력해 보겠다고 동의하는 형펀없는 개발자를 두려워하라.
- 초과 근무를 하며 기적을 바라는 헛된 희망을 주변인들에게 잘못된 희망을 주어 재양으로 가는 지름길이다.

> 상사, 팀, 관계자에게 반드시 정확하게 대답하여 희망을 갖지 못하도록 해야 한다. 

### 도움
- 아무리 기술이 띄어나도 반드시 다른 프로그래머의 생각과 아이디어에서 도움을 받는다.
- 도움을 부탁하는 방법을 배워라. 막혔거나 혼란스럽거나 문제가 마음 먹은대로 풀리지 않는다면 다른 이에게 도움을 요청하라.
    - 쉡게 도움을 받을 수 있는 데도 계속 막힌 상태를 유지하는 일은 프로답지 않다.
- 효과적인 프로그래밍에는 협력이 매우 중요하다.

### 멘토링
- 젊은 프로그래머는 선배에게 멘토링을 구하는 일이 프로로서의 의무다. 

## TDD
### TDD의 세 가지 법칙
- 1) 실패한 단위 테스트를 만들기 전까지 제품 코드를 만들지 않는다.
- 2) 컴파일이 안되거나 실패한 단위 테스트가 있으면 더 이상의 단위 테스트를 만들지 않는다.
- 3) 실패한 단위 테스트를 통과하는 이상으로 제품 코드를 만들지 않는다.

### TDD 혜택
#### 확신
- 테스트의 수가 많아질 수록 코드에 대한 확신이 생긴다.

#### 결함 주입 비율
- 테스트가 증가할 수록 결함이 주입될 비율이 감소한다.

#### 용기
- 테스트가 있기 때문에 리팩터링이 두렵지 않게 된다.
- 이는 코드를 깔끔하게 해준다.

#### 문서화
- 테스트 코드 자체가 문서가 될 수 있다.

#### 설계
- 테스트 코드를 단순하게 만들기 위해 노력하다보면 의존성이 적절히 분리되는 좋은 설계를 가질 수 있다.

> TDD의 법칙을 따르는게 실용적이지 않고 적절하지 않은 떄도 있다. **좋은 점보다 해로운 점이 많을 땐 규칙을 따라서는 안된다.**
