# CHAPTER 1 도메인 모델 시작

### 도메인 모델
- 특정 도메인을 개념적으로 표현한 것
- 객체 모델은 도메인 모델로 표현하기 적합한 것들 중 하나이다.
    - 객체는 상태와 행위를 모두 포함하고 있어 도메인의 데이터 구성요소와 기능을 표현할 수 있다.
    
### 도메인 모델 패턴
- 일반적으로 애플리케이션 아키텍처는 표현, 응용, 도메인, 인프라스트럭처 계층으로 구성
- 표현
    - 클라이언트의 요청을 처리하고 사용자에게 정보를 보여줌
- 응용
    - 사용자가 요청한 기능을 실행하며 업무 로직을 직접 구현하지 않고 도메인 계층을 조합해서 기능을 실행한다.
- 도메인
    - 시스템이 제공할 도메인의 규칙을 구현한다.
    - 도메인에서 실제 비즈니스 로직을 처리하여 핵심 비즈니스 로직에 대해선 도메인에만 관심을 두면 된다.
- 인프라
    - DB나 메시징 시스템과 같은 외부 시스템과의 연동을 처리
    
### 개념 모델과 구현 모델
- 개발이 시작되면 도메인에 대한 이해가 깊어지기 때문에 처음부터 개념 모델을 완벽히 만들 필요는 없다.
- 개념 모델은 도메인 전체의 윤곽을 위해서 필요한 것이며, 구현하는 과정에선 구현 모델로 발전된다.


## 엔티티와 밸류 타입
### 엔티티
- 엔티티는 식별자를 가지며 식별자를 통해 동일성을 비교할 수 있다.
- 엔티티의 상태 값은 변경될 수 있으나 식별자는 변경될 수 없다.
- 엔티티 식별자는 DB 테이블의 primary key

### 밸류 타입
- 밸류 타입은 개념적으로 하나의 밸류를 표현할 때 사용할 수 있다.
    - Address는 개념적으로 주소라는 하나의 밸류로 표현할 수 있어 밸류 타입이 될 수 있다.
- **하나의 필드를 가지더라도 명시적인 표현을 위해 밸류 타입을 만들 수 있다.**(double 하나만 가지는 Money 클래스)

#### 밸류 타입의 장점
- 자바에서 밸류 타입은 클래스로 표현되며 클래스는 기능을 포함할 수 있기 때문에 의도를 명확히 드러낼 수 있다.

> 밸류 타입은 말그대로 밸류를 표현하기 때문에 불변 객체로 만드는 것이 좋다.

